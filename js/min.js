import*as r from"https://esm.sh/pixi.js@7.2.4?bundle-deps";window.addEventListener("hashchange",e=>{const t=new URL(e.newURL);t.hash=="#_"&&history.pushState(null,null,t.pathname+t.search)});let o=[];const w=[],s=document.getElementById("clocks");window.addEventListener("keyup",({code:e})=>{o.push(e),o=o.slice(-11),o.join("")=="ArrowUpArrowUpArrowDownArrowDownArrowLeftArrowRightArrowLeftArrowRightKeyBKeyAEnter"&&(s.classList.add("playing"),s.play(),s.addEventListener("ended",()=>{s.classList.remove("playing")}))});const a=document.getElementById("bg"),n=new r.Application({view:a,resizeTo:a,backgroundAlpha:0,antialias:!0});n.stage.filters=[new r.BlurFilter(2,void 0,window.devicePixelRatio)];const c=6,d=Math.sqrt(Math.pow(n.screen.height,2)+Math.pow(n.screen.height,2))/32,l=n.renderer.generateTexture(new r.Graphics().beginFill(16777215).drawCircle(0,0,c).endFill()),h=Array.from({length:d},()=>{const e={sprite:new r.Sprite(l),x:Math.random(),y:Math.random()};return e.sprite.anchor.set(.5,1),e.sprite.scale.set(Math.random()),n.stage.addChild(e.sprite),e.sprite.x=Math.random()*n.screen.width,e.sprite.y=Math.random()*n.screen.height,e});document.getElementById("bg").classList.add("show");function p(e,t){return(e%t+t)%t}let i=document.documentElement.scrollTop;n.ticker.add(()=>{i+=.15*(document.documentElement.scrollTop-i);const e=document.documentElement.scrollTop/document.body.scrollHeight;n.stage.alpha=.7-e*1.2,h.forEach(t=>{t.sprite.x=t.x*n.screen.width,t.sprite.y=p(t.y*n.screen.height-i*2.77*t.sprite.scale.y,n.screen.height+c*window.devicePixelRatio)})});